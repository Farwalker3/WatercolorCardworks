<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="flower-playing-cards.svg">
    <title>Maine Cardworks</title>
    <link rel="stylesheet" type="text/css" href="style.css">
  </head>
  
  <body>
    <!-- Side Menu -->
    <input id="mobileMenuToggle" class="sidemenu-toggle hidden" name="mobileMenu" type="checkbox" />
    <div class="sidemenu-container">
      <aside id="mobileMenu" class="sidemenu sidemenu--mobile">
        <div class="sidemenu__header sidemenu__header--cart">
          <div class="sidemenu__header_content container">
            <h1>Menu</h1>
            <label for="mobileMenuToggle" class="cursor-pointer button">Close</label>
          </div>
        </div>
        <div class="sidemenu__body sidemenu__body--mobile container">
          <h2>Customization Options</h2>
          <br>
          <div class="color-picker">
            <label for="text-color">Main Color:</label>
            <input type="color" id="text-color">
            <span id="text-color-value"></span>
            <button onclick="copyToClipboard('text-color')">Copy</button>
          </div>
          <div class="color-picker">
            <label for="accent">Accent Color:</label>
            <input type="color" id="accent">
            <span id="accent-value"></span>
            <button onclick="copyToClipboard('accent')">Copy</button>
          </div>
          <div class="color-picker">
            <label for="footer-background">Footer Color:</label>
            <input type="color" id="footer-background">
            <span id="footer-background-value"></span>
            <button onclick="copyToClipboard('footer-background')">Copy</button>
          </div>
          <div class="color-picker">
            <label for="body-color">Body Color:</label>
            <input type="color" id="body-color">
            <span id="body-color-value"></span>
            <button onclick="copyToClipboard('body-color')">Copy</button>
          </div>
          <!-- Color picker for add to cart button color -->
          <div class="color-picker">
            <label for="add-to-cart-button-color">Add to Cart Button Color:</label>
            <input type="color" id="add-to-cart-button-color">
            <span id="add-to-cart-button-color-value"></span>
            <button onclick="copyToClipboard('add-to-cart-button-color')">Copy</button>
          </div>
          
          <!-- Color picker for group header color -->
          <div class="color-picker">
            <label for="group-header-color">Group Header Color:</label>
            <input type="color" id="group-header-color">
            <span id="group-header-color-value"></span>
            <button onclick="copyToClipboard('group-header-color')">Copy</button>
          </div>
        </div>
        <div class="sidemenu__footer sidemenu__footer--cart">
          <div class="sidemenu__footer-content sidemenu__footer-content--mobile container">
            <div id="copyValuesBtn" class="sidemenu__footer__button button button--accent cursor-pointer">Copy Values to Clipboard</div>
          </div>
        </div>
      </aside>
      <label for="mobileMenuToggle" class="sidemenu-overlay"></label>
    </div>
    
    <!-- Your authentication and user interface scripts go here -->
    <script>
      // Add your existing scripts here
      
      // JavaScript code for customization options
      document.addEventListener('DOMContentLoaded', function () {
        // Event listener for color pickers
        const colorPickers = document.querySelectorAll('.color-picker input');
        colorPickers.forEach(picker => {
          picker.addEventListener('input', updateColor);
        });
        
        // Event listener for image upload
        const imgInput = document.getElementById('img');
        imgInput.addEventListener('change', updateBackgroundImage);
        
        // Event listener for copy values button
        const copyValuesBtn = document.getElementById('copyValuesBtn');
        copyValuesBtn.addEventListener('click', copyAllValuesToClipboard);
      });
      
      // Function to update colors dynamically
      function updateColor() {
        const valueSpan = document.getElementById(`${this.id}-value`);
        valueSpan.textContent = this.value;
        document.documentElement.style.setProperty(`--${this.id}`, this.value);
      }
      
      // Function to update background image dynamically
      function updateBackgroundImage() {
        const fileInput = document.getElementById('img');
        const file = fileInput.files[0];
        
        if (file) {
          const reader = new FileReader();
          
          reader.onload = function (e) {
            const imageUrl = `url('${e.target.result}')`;
            
            // Remove existing background image rules
            const styleSheet = document.styleSheets[0];
            const rules = styleSheet.rules || styleSheet.cssRules;
            for (let i = 0; i < rules.length; i++) {
              if (rules[i].selectorText === 'body::before') {
                // Assuming the old background image is the first url() in the background property
                rules[i].style.backgroundImage = `${imageUrl}, ${imageUrl}, ${imageUrl}`;
                return;
              }
            }
            
            // If no existing rule is found, insert a new one
            styleSheet.insertRule(`body::before { background: linear-gradient(to bottom, rgba(240, 240, 240, 0.75), rgba(240, 240, 240, 0.75)), ${imageUrl}, ${imageUrl}, ${imageUrl}; }`, 0);
          };
          
          reader.readAsDataURL(file);
        }
      }
      
      // Function to copy a value to clipboard
      function copyToClipboard(id) {
        const value = document.getElementById(`${id}-value`).textContent;
        navigator.clipboard.writeText(value).then(function () {
          alert(`${id} value copied to clipboard: ${value}`);
        }).catch(function (err) {
          console.error('Unable to copy to clipboard', err);
        });
      }
      
      // Function to copy all values to clipboard
      function copyAllValuesToClipboard() {
        const backgroundColor = document.getElementById('text-color-value').textContent;
        const accentColor = document.getElementById('accent-value').textContent;
        const footerColor = document.getElementById('footer-background-value').textContent;
        
        // Get the uploaded image file
        const imgInput = document.getElementById('img');
        const imageFile = imgInput.files[0];
        
        // Construct the email body
        const valuesToCopy = `
      Main Color: ${backgroundColor}
      Accent Color: ${accentColor}
      Footer Color: ${footerColor}
      `;
        
        navigator.clipboard.writeText(valuesToCopy).then(function () {
          alert('Values copied to clipboard');
        }).catch(function (err) {
          console.error('Unable to copy values to clipboard', err);
        });
      }
      
      document.addEventListener('DOMContentLoaded', function () {
        // Event listener for add to cart buttons
        const addToCartButtons = document.querySelectorAll('.add-to-cart');
        addToCartButtons.forEach(button => {
          button.addEventListener('click', function(event) {
            addToCart(event);
            toggleCart();
            updateTotal(); // Update total price
          });
        });
      });
      
      function toggleCart() {
        const sideCart = document.getElementById('sideCart');
        sideCart.classList.toggle('visible');
        
        const sideMenuToggle = document.getElementById('sideCartToggle');
        sideMenuToggle.checked = !sideMenuToggle.checked; // Toggle the checked state
      }

      
      function addToCart(event) {
        const groupElement = event.target.closest('.card-grid');
        const groupName = groupElement.querySelector('.GroupHeader').textContent.trim();
        const price = getPriceForGroup(groupName);
        const cartItemsContainer = document.getElementById('sideCartItems');
        let cartIsEmpty = cartItemsContainer.querySelector('p');
        
        if (cartIsEmpty) {
          cartItemsContainer.innerHTML = ''; // Remove "Your cart is empty" message
        }
        
        const existingCartItem = cartItemsContainer.querySelector(`.cart-item[data-group="${groupName}"]`);
        
        if (existingCartItem) {
          const quantityElement = existingCartItem.querySelector('.item-quantity-value');
          const quantity = parseInt(quantityElement.textContent) + 1;
          quantityElement.textContent = quantity;
          existingCartItem.querySelector('.item-total-price').textContent = `$${(quantity * price).toFixed(2)}`;
        } else {
          const cartItem = document.createElement('div');
          cartItem.classList.add('cart-item');
          cartItem.setAttribute('data-group', groupName);
          
          cartItem.innerHTML = `
  <div>
    <span class="item-label">Item Name:</span>
    <span class="item-name">${groupName}</span>
  </div>
  <div>
    <span class="item-label">Item Price:</span>
    <span class="item-price">$${price.toFixed(2)}</span>
  </div>
  <div>
    <span class="item-label">Quantity:</span>
    <span class="quantity-container">
      <button class="quantity-button" onclick="changeQuantity(this, -1)">-</button>
      <span class="item-quantity-value">1</span>
      <button class="quantity-button" onclick="changeQuantity(this, 1)">+</button>
    </span>
  </div>
  <div>
    <span class="item-label">Total Price:</span>
    <span class="item-total-price">$${price.toFixed(2)}</span>
  </div>
  <button class="remove-from-cart" onclick="removeFromCart(this)">Remove</button>
`;
          
          cartItemsContainer.appendChild(cartItem);

        }
        updateTotal(); // Update total price
      }
      
      function updateTotal() {
        const cartItems = document.querySelectorAll('.cart-item');
        let totalPrice = 0;
        cartItems.forEach(item => {
          const totalItemPrice = parseFloat(item.querySelector('.item-total-price').textContent.replace('$', ''));
          totalPrice += totalItemPrice;
        });
        const checkoutButton = document.getElementById('checkoutBtn');
        checkoutButton.textContent = `Checkout - Total: $${totalPrice.toFixed(2)}`;
      }

      
      function changeQuantity(button, change) {
        const cartItem = button.closest('.cart-item');
        const quantityElement = cartItem.querySelector('.item-quantity-value');
        const priceElement = cartItem.querySelector('.item-price');
        const totalPriceElement = cartItem.querySelector('.item-total-price');
        const price = parseFloat(priceElement.textContent.replace('$', ''));
        let quantity = parseInt(quantityElement.textContent) + change;
        
        if (quantity < 1) quantity = 1; // Minimum quantity is 1
        quantityElement.textContent = quantity;
        totalPriceElement.textContent = `$${(quantity * price).toFixed(2)}`;
        
        updateTotal(); // Update total price
      }
      
      function removeFromCart(button) {
        const cartItem = button.closest('.cart-item');
        cartItem.remove();
        
        const cartItemsContainer = document.getElementById('sideCartItems');
        if (!cartItemsContainer.querySelector('.cart-item')) {
          cartItemsContainer.innerHTML = '<p>Your cart is empty</p>';
        }
        
        updateTotal(); // Update total price
      }
      
      function getPriceForGroup(group) {
        // Define prices for different groups
        const prices = {
          'Assorted': 10.00,  // Default price for Assorted greeting cards
          'Farmers Friends': 15.00,
          'Wild Strawberries': 12.00,
          'Feathered Friends': 14.00,
          'Holiday Cards': 20.00
        };
        return prices[group] || 0;  // Default price is 0 if group not found
      }

    </script>
  
  <!-- Side Cart -->
  <input id="sideCartToggle" class="sidemenu-toggle hidden" name="sideCart" type="checkbox"/>
  <div class="sidemenu-container">
    <aside id="sideCart" class="sidemenu sidemenu--cart">
      <div class="sidemenu__header sidemenu__header--cart">
        <div class="sidemenu__header_content container">
          <h1>Your Cart</h1>
          <label for="sideCartToggle" class="cursor-pointer button">Close</label>
        </div>
      </div>
      <div class="sidemenu__body sidemenu__body--mobile container" id="sideCartItems">
        <p>Your cart is empty</p>
      </div>
      <div class="sidemenu__footer sidemenu__footer--cart">
        <div class="sidemenu__footer-content sidemenu__footer-content--mobile container">
          <div id="checkoutBtn" class="sidemenu__footer__button button button--accent cursor-pointer">Checkout - Total: $0.00</div>
        </div>
      </div>
    </aside>
    <label for="sideCartToggle" class="sidemenu-overlay"></label>
  </div>
  
  <!-- Top menu -->
  <input id="topMenuToggle" class="sidemenu-toggle hidden" name="topMenu" type="checkbox"/>
  <div class="sidemenu-container">
    <aside id="topMenu" class="sidemenu sidemenu--top">
      <div class="sidemenu__header sidemenu__header--top">
        <div class="sidemenu__header_content container">
          <h1 class="center">Top menu</h1>
        </div>
      </div>
      <div class="sidemenu__body sidemenu__body--top container">
        <p>Some content 🐠✨</p>
      </div>
      <div class="sidemenu__footer sidemenu__footer--top">
        <label for="topMenuToggle" class="cursor-pointer">
          <div class="sidemenu__footer-content sidemenu__footer-content--top container center-text">
            <span class="sidemenu--top__close-text text-lg">Close</span>
          </div>
        </label>
      </div>
    </aside>
  </div>
  
  <!-- Bottom menu -->
  <input id="bottomMenuToggle" class="sidemenu-toggle hidden" name="mobileMenu" type="checkbox"/>
  <div class="sidemenu-container">
    <aside id="bottomMenu" class="sidemenu sidemenu--bottom">
      <div class="sidemenu__header sidemenu__header--bottom">
        <div class="sidemenu__header_content sidemenu__header_content--bottom container center">
          <h1 class="center">Bottom drawer</h1>
          <label for="bottomMenuToggle" class="button button--outline">Close</label>
        </div>
      </div>
      <div class="sidemenu__body sidemenu__body--bottom container">
        <p>Some content 🐠✨</p>
      </div>
    </aside>
    <label for="bottomMenuToggle" class="sidemenu-overlay"></label>
  </div>

    <!-- Navbar -->
    <nav id="navbar">
      <div class="container navbar__container">
        <label for="mobileMenuToggle" class="cursor-pointer button sticky">Menu</label>
        <span class="center-force">Maine<br>Cardworks</span>
        <label for="sideCartToggle" class="cursor-pointer button sticky">Cart</label>
      </div>
    </nav>
    
    <nav>
      <div class="container navbar__links">
        <a href="store.html">Store (Work in Progress)</a>
        <a href="about.html">About (Work in Progress)</a>
      </div>
    </nav>

  <div class="card-grid" id="Group1">
    <!-- GroupHeader -->
    <div class="GroupHeader">Assorted</div>
    <!-- Card 1 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 2 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 3 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 4 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 5 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 6 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 7 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 8 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 9 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 10 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Add To Cart -->
    <div class="add-to-cart">Add to Cart</div>
  </div>
  
  <div class="card-grid" id="Group2">
    <!-- GroupHeader -->
    <div class="GroupHeader">Farmers Friends</div>
    <!-- Card 1 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 2 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 3 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 4 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 5 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Add To Cart -->
    <div class="add-to-cart">Add to Cart</div>
  </div>
    
  <div class="card-grid" id="Group3">
    <!-- GroupHeader -->
    <div class="GroupHeader">Wild Strawberries</div>
    <!-- Card 1 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 2 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 3 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 4 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 5 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 6 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 7 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 8 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 9 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 10 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Add To Cart -->
    <div class="add-to-cart">Add to Cart</div>
  </div>
    
  <div class="card-grid" id="Group4">
    <!-- GroupHeader -->
    <div class="GroupHeader">Feathered Friends</div>
    <!-- Card 1 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 2 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 3 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 4 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 5 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 6 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 7 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 8 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 9 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 10 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Add To Cart -->
    <div class="add-to-cart">Add to Cart</div>
  </div>
    
  <div class="card-grid" id="Group5">
    <!-- GroupHeader -->
    <div class="GroupHeader">Holiday Cards</div>
    <!-- Card 1 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 2 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 3 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 4 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 5 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 6 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 7 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 8 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 9 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Card 10 -->
    <div class="card"><div class="image-overlay"></div></div>
    <!-- Add To Cart -->
    <div class="add-to-cart">Add to Cart</div>
  </div>
    
  <main>
    <div class="main__content container center">
      <div class="main__buttons center">
        <label for="topMenuToggle" class="button button--accent">Open top menu</label>
        <label for="bottomMenuToggle" class="button button--accent">Open bottom menu</label>
      </div>
    </div>
  </main>

  <footer>
    <span>Sitemap | Copyright © 2023 Maine Cardworks</span>
  </footer>

</body>
</html>